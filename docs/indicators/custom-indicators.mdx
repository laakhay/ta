# Custom Indicators

You can register any Python function that accepts a `SeriesContext` and returns either:

- a `Series`,
- a tuple of `Series`,
- or a dict of named outputs.

## Basic Example

```python
from laakhay.ta.registry import register, SeriesContext
from laakhay.ta.core import Series
from laakhay.ta.core.types import Price

@register("double_close", description="Close multiplied by 2")
def double_close(ctx: SeriesContext) -> Series[Price]:
    close = ctx.close
    return Series[
        Price
    ](
        timestamps=close.timestamps,
        values=tuple(v * 2 for v in close.values),
        symbol=close.symbol,
        timeframe=close.timeframe,
    )
```

## Rich Output Metadata Example

```python
@register(
    "my_bands",
    output_metadata={
        "upper": {"role": "band_upper"},
        "middle": {"role": "band_middle"},
        "lower": {"role": "band_lower"},
    },
)
def my_bands(ctx: SeriesContext, period: int = 20):
    ...
```

## Guidelines

- Validate parameter ranges (`period > 0`, etc.).
- Keep return metadata (`symbol`, `timeframe`) intact.
- Set `availability_mask` when warmup/confirmation delays exist.
- Provide concise `description` and `output_metadata` for catalog/UI quality.

## Compatibility Tips

- If DSL users should consume one line only, also provide single-output wrappers.
- Add aliases thoughtfully; avoid ambiguous shorthand.
