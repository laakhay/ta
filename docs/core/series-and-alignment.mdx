# Series & Alignment

## `Series[T]`

`Series` is the fundamental runtime vector:

- immutable tuples of `timestamps` and `values`
- optional `availability_mask`
- attached `symbol` and `timeframe` metadata

```python
from decimal import Decimal
from datetime import UTC, datetime
from laakhay.ta.core import Series

s = Series[
    Decimal
](
    timestamps=(datetime(2026, 1, 1, tzinfo=UTC),),
    values=(Decimal("100"),),
    symbol="BTCUSDT",
    timeframe="1h",
)
```

## Arithmetic & Logical Composition

`Series` supports elementwise algebra (`+`, `-`, `*`, `/`, comparisons, unary ops).

Availability masks are combined where relevant to preserve validity boundaries.

## Alignment

Before binary operations on two non-scalar series, runtime aligners synchronize timestamps according to alignment policy.

Alignment policy is configured via planner alignment context (`inner`/fill strategy).

## Operational Guidance

- Treat `availability_mask=False` as "do not trust this bar yet".
- Inspect masks when debugging indicator warmup or pattern confirmation lag.
- Keep `symbol`/`timeframe` consistent across composed series to avoid accidental cross-joins.
