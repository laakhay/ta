# Dataset & Contexts

`Dataset` is the runtime container for all series used in expression evaluation.

## Dataset Keys

A series is identified by:

- `symbol`
- `timeframe`
- `source`

Examples of sources:

- `ohlcv`
- `trades`
- `orderbook`
- `liquidation`
- exchange-qualified sources like `trades_binance`

## Add Data

```python
from laakhay.ta.core import Dataset

ds = Dataset()
ds.add_series("BTCUSDT", "1h", ohlcv, source="ohlcv")
```

Convenience helpers:

- `add_trade_series(...)`
- `add_orderbook_series(...)`
- `add_liquidation_series(...)`

## Context Builders

`Dataset` can produce:

- generic context (`to_context`) for indicator evaluation,
- filtered views (`select(...)`),
- multi-source contexts (`to_multisource_context`) used by evaluator pathways.

`SeriesContext` is flexible and field-driven; indicators read required fields by name.

## Source Resolution

Runtime tries multiple lookup forms (`source.field`, field-only fallback, symbol-qualified variants). Prefer explicit source references in DSL for clarity.

## Common Pitfalls

- Missing source/field combinations in dataset.
- Mixed timeframe assumptions.
- Forgetting that some indicators need `high`/`low`/`volume`, not just `close`.
